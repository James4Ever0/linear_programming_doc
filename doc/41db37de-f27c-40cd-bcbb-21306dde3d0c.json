{
    "summary": "The code creates a Sankey diagram using PyECharts, displaying university and workplace relationships with flow relations and visual properties. It supports two depth levels and can be saved as \"sankey.png\".",
    "details": [
        {
            "comment": "Code imports necessary libraries and creates a Sankey diagram. It constructs a Sankey object, adds nodes with names, and defines links between them with corresponding weights.",
            "location": "\"/media/root/Prima/works/generated_docs/linear_programming_doc/src/draw_sankey_diagram.py\":0-41",
            "content": "# no weights. deprecated.\n# import matplotlib.pyplot as plt\n# import pandas as pd\n# from pysankey2.datasets import load_fruits\n# from pysankey2 import Sankey\n# df = load_fruits()\n# sky = Sankey(df,colorMode=\"global\")\n# fig,ax = sky.plot()\nfrom pyecharts.charts import Sankey\nfrom pyecharts import options as opts\n# \u6784\u5efa\u80fd\u6d41\u6851\u57fa\u56fe\n# sankey = Sankey()\n# \u6dfb\u52a0\u8282\u70b9\nsankey = Sankey().add(\n    series_name=\"\u6bd5\u4e1a\u751f\u6d41\u5411\",  ###\u7ed9\u4e2a\u6851\u57fa\u5b9d\u5b9d\u53d6\u4e2a\u540d\u5b57\n    nodes=[\n        {\"name\": \"\u5317\u4eac\"},\n        {\"name\": \"\u6e56\u5357\"},\n        {\"name\": \"\u6e05\u534e\"},\n        {\"name\": \"\u5317\u5927\"},\n        {\"name\": \"\u4eba\u5927\"},\n        {\"name\": \"\u6d59\u5927\"},\n        {\"name\": \"\u590d\u65e6\"},\n        {\"name\": \"\u4e2d\u5c71\"},\n        {\"name\": \"\u53a6\u5927\"},\n        {\"name\": \"\u6b66\u5927\"},\n        {\"name\": \"\u5ddd\u5927\"},\n        {\"name\": \"\u5de5\u4f5c1\"},\n        {\"name\": \"\u5de5\u4f5c2\"},\n        {\"name\": \"\u5de5\u4f5c3\"},\n        {\"name\": \"\u5de5\u4f5c4\"},\n    ],  ##\u914d\u7f6e\u6709\u591a\u5c11\u4e2a\u8282\u70b9\n    links=[\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u6e05\u534e\", \"value\": 50},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u5317\u5927\", \"value\": 60},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u4eba\u5927\", \"value\": 40},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u590d\u65e6\", \"value\": 60},"
        },
        {
            "comment": "The code defines a list of dictionaries representing connections between locations (cities) and universities, along with the values representing some metric. These connections include relationships with workplaces as well.",
            "location": "\"/media/root/Prima/works/generated_docs/linear_programming_doc/src/draw_sankey_diagram.py\":42-60",
            "content": "        {\"source\": \"\u5317\u4eac\", \"target\": \"\u4e2d\u5c71\", \"value\": 30},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u6d59\u5927\", \"value\": 33},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u53a6\u5927\", \"value\": 22},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u6b66\u5927\", \"value\": 5},\n        {\"source\": \"\u5317\u4eac\", \"target\": \"\u5ddd\u5927\", \"value\": 12},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u6e05\u534e\", \"value\": 30},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u5317\u5927\", \"value\": 40},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u4eba\u5927\", \"value\": 20},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u590d\u65e6\", \"value\": 40},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u4e2d\u5c71\", \"value\": 10},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u6d59\u5927\", \"value\": 13},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u53a6\u5927\", \"value\": 9},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u6b66\u5927\", \"value\": 30},\n        {\"source\": \"\u6e56\u5357\", \"target\": \"\u5ddd\u5927\", \"value\": 25},\n        {\"source\": \"\u6e05\u534e\", \"target\": \"\u5de5\u4f5c1\", \"value\": 80},\n        {\"source\": \"\u5317\u5927\", \"target\": \"\u5de5\u4f5c3\", \"value\": 100},\n        {\"source\": \"\u4eba\u5927\", \"target\": \"\u5de5\u4f5c2\", \"value\": 60},\n        {\"source\": \"\u590d\u65e6\", \"target\": \"\u5de5\u4f5c2\", \"value\": 100},\n        {\"source\": \"\u4e2d\u5c71\", \"target\": \"\u5de5\u4f5c4\", \"value\": 40},"
        },
        {
            "comment": "This code configures a Sankey diagram with nodes representing universities (e.g., \"\u6d59\u5927\") and work types (e.g., \"\u5de5\u4f5c3\"). It sets the flow relation between nodes, line styles like opacity, curve, and color, as well as label font size and positioning. The configuration includes two levels of depth for node representation with specific colors for each level.",
            "location": "\"/media/root/Prima/works/generated_docs/linear_programming_doc/src/draw_sankey_diagram.py\":61-84",
            "content": "        {\"source\": \"\u6d59\u5927\", \"target\": \"\u5de5\u4f5c3\", \"value\": 46},\n        {\"source\": \"\u53a6\u5927\", \"target\": \"\u5de5\u4f5c4\", \"value\": 31},\n        {\"source\": \"\u6b66\u5927\", \"target\": \"\u5de5\u4f5c3\", \"value\": 35},\n        {\"source\": \"\u5ddd\u5927\", \"target\": \"\u5de5\u4f5c2\", \"value\": 37},\n    ],  ###\u914d\u7f6e\u8282\u70b9\u4e4b\u95f4\u7684\u4fe1\u606f\u6d41\u5173\u7cfb\n    linestyle_opt=opts.LineStyleOpts(\n        opacity=0.2,  ###\u900f\u660e\u5ea6\u8bbe\u7f6e\n        curve=0.5,  ###\u4fe1\u606f\u6d41\u7684\u66f2\u7ebf\u5f2f\u66f2\u5ea6\u8bbe\u7f6e\n        color=\"source\",  ##\u989c\u8272\u8bbe\u7f6e\uff0csource\u8868\u793a\u4f7f\u7528\u8282\u70b9\u7684\u989c\u8272\n    ),  ##\u7ebf\u6761\u683c\u5f0f ,\u8bbe\u7f6e\u6240\u6709\u7ebf\u6761\u7684\u683c\u5f0f\n    label_opts=opts.LabelOpts(\n        font_size=16, position=\"left\"\n    ),  ##\u6807\u7b7e\u914d\u7f6e\uff0c\u5177\u4f53\u53c2\u6570\u8be6\u89c1opts.LabelOpts()\n    levels=[\n        opts.SankeyLevelsOpts(\n            depth=0,  ##\u7b2c\u4e00\u5c42\u7684\u914d\u7f6e\n            itemstyle_opts=opts.ItemStyleOpts(color=\"#fbb4ae\"),  ##\u8282\u70b9\u683c\u5f0f\u7684\u914d\u7f6e\n            linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2, curve=0.5),\n        ),  ##\u4fe1\u606f\u6d41\u7684\u914d\u7f6e\n        opts.SankeyLevelsOpts(\n            depth=1,  ##\u7b2c\u4e8c\u5c42\u7684\u914d\u7f6e\n            itemstyle_opts=opts.ItemStyleOpts(color=\"#b3cde3\"),  ##\u8282\u70b9\u683c\u5f0f\u7684\u914d\u7f6e\n            linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2, curve=0.5),\n        ),  ##\u4fe1\u606f\u7684\u914d\u7f6e"
        },
        {
            "comment": "The code sets the configuration for a Sankey diagram with three layers, specifying item style and line style options. It then renders the diagram using PyECharts and saves it as \"sankey.png\".",
            "location": "\"/media/root/Prima/works/generated_docs/linear_programming_doc/src/draw_sankey_diagram.py\":85-98",
            "content": "        opts.SankeyLevelsOpts(\n            depth=2,  ##\u7b2c\u4e09\u5c42\u7684\u914d\u7f6e\n            itemstyle_opts=opts.ItemStyleOpts(color=\"#ccebc5\"),  ##\u8282\u70b9\u683c\u5f0f\u7684\u914d\u7f6e\n            linestyle_opts=opts.LineStyleOpts(color=\"source\", opacity=0.2, curve=0.5),\n        ),  ##\u4fe1\u606f\u7684\u914d\u7f6e\n    ],  # \u6851\u57fa\u56fe\u6bcf\u4e00\u5c42\u7684\u8bbe\u7f6e\u3002\u53ef\u4ee5\u9010\u5c42\u8bbe\u7f6e\n)\n# \u7ed8\u5236\u80fd\u6d41\u6851\u57fa\u56fe\n# sankey.render(\"energy_flow_sankey.html\")\nfrom snapshot_phantomjs import snapshot as driver\nfrom pyecharts.render import make_snapshot\nmake_snapshot(driver, sankey.render(), \"sankey.png\")"
        }
    ]
}